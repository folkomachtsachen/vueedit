(function(t){function e(e){for(var s,a,r=e[0],l=e[1],h=e[2],d=0,u=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&u.push(n[a][0]),n[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(u.length)u.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],s=!0,r=1;r<i.length;r++){var l=i[r];0!==n[l]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},n={app:0},o=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/vueedit/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var h=0;h<r.length;h++)e(r[h]);var c=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("85ec"),n=i.n(s);n.a},"055f":function(t,e,i){},"06ff":function(t,e,i){},"2e4f":function(t,e,i){"use strict";var s=i("6c9f"),n=i.n(s);n.a},"3f67":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app",style:{maxWidth:t.appWidth+"px",flexWrap:t.appWrap},attrs:{id:"app"}},[i("GridApp",{ref:"gridapp",staticClass:"grid",attrs:{userData:t.barsData},on:{"update:userData":function(e){t.barsData=e},"update:user-data":function(e){t.barsData=e},dataChange:t.handlechangedata}}),i("div",{staticClass:"tools-wrapper"},[i("div",{staticClass:"tool"},[i("div",{staticClass:"slider-wrapper"},[i("div",{staticClass:"slider-label"},[t._v("Zentrum:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sliderCenter,expression:"sliderCenter"}],staticClass:"slider",attrs:{type:"range",min:"100",max:"700",step:"1"},domProps:{value:t.sliderCenter},on:{__r:function(e){t.sliderCenter=e.target.value}}})]),i("div",{staticClass:"slider-wrapper"},[i("div",{staticClass:"slider-label"},[t._v("Links/Rechts:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sliderH,expression:"sliderH"}],staticClass:"slider",attrs:{type:"range",min:"-300",max:"600",step:"1"},domProps:{value:t.sliderH},on:{__r:function(e){t.sliderH=e.target.value}}})]),i("div",{staticClass:"slider-wrapper"},[i("div",{staticClass:"slider-label"},[t._v("Unten/Oben:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sliderV,expression:"sliderV"}],staticClass:"slider",attrs:{type:"range",min:"-250",max:"150",step:"1"},domProps:{value:t.sliderV},on:{__r:function(e){t.sliderV=e.target.value}}})]),i("div",{staticClass:"slider-wrapper"},[i("div",{staticClass:"slider-label"},[t._v("Headline:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sliderHeadline,expression:"sliderHeadline"}],staticClass:"slider",attrs:{type:"range",min:"-30",max:"200",step:"1"},domProps:{value:t.sliderHeadline},on:{__r:function(e){t.sliderHeadline=e.target.value}}})])])])],1)},o=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"grid-outer-wrapper",style:{maxWidth:t.componentWidth+"px",minWidth:t.componentMinWidth+"px"}},[i("GridTopRow",{attrs:{widths:t.griddata.widths,positions:t.griddata.positions,scroll:t.scrollLeft},on:{changesize:t.handlecellsize,stopchangesize:t.stopchangesize,selectcolumn:t.handleselectcolumn,contextmenu:function(e){return e.preventDefault(),t.handlecontextmenu(e)}}}),i("div",{ref:"theGrid",staticClass:"grid-canvas-container",on:{"&scroll":function(e){return t.handleScroll(e)}}},[t._l(t.griddata.rows,(function(e){return i("fragment",{key:e.id},[i("GridRow",{attrs:{row:e,widths:t.griddata.widths,positions:t.griddata.positions},on:{mousedown:t.handlemousedown,mouseenter:t.handlemouseenter,mouseup:t.handlemouseup,rightclick:t.handlerightclick}})],1)})),i("div",{staticClass:"drag-selection-rect-top",class:{noEvents:t.dragging},style:{width:t.selection.w+"px",left:t.selection.x+28+"px",top:t.selection.y-5+"px"},attrs:{id:"dragRectTop",shiftY:"8",shiftX:"0"},on:{mousedown:t.handlemousedowndrag}}),i("div",{staticClass:"drag-selection-rect-top",class:{noEvents:t.dragging},style:{width:t.selection.w+"px",left:t.selection.x+28+"px",top:t.selection.y+t.selection.h+"px"},attrs:{id:"dragRectLeft",shiftY:"-8",shiftX:"0"},on:{mousedown:t.handlemousedowndrag}}),i("div",{staticClass:"drag-selection-rect-right",class:{noEvents:t.dragging},style:{height:t.selection.h+"px",left:t.selection.x+28+t.selection.w+"px",top:t.selection.y+"px"},attrs:{id:"dragRectRight",shiftY:"0",shiftX:"-5"},on:{mousedown:t.handlemousedowndrag}}),i("div",{staticClass:"drag-selection-rect-right",class:{noEvents:t.dragging},style:{height:t.selection.h+"px",left:t.selection.x+28-5+"px",top:t.selection.y+"px"},attrs:{id:"dragRectLeft",shiftY:"0",shiftX:"5"},on:{mousedown:t.handlemousedowndrag}}),i("div",{staticClass:"selection",style:{width:t.selection.w+"px",minHeight:t.selection.h+"px",left:t.selection.x+28+"px",top:t.selection.y+"px"}}),i("CellActive",t._b({ref:"activeCell",on:{jumpcell:t.jumpcell,changeText:t.handleTextChange}},"CellActive",{id:"theInputCell",text:t.newText,w:t.cellWidth,x:t.cellX,y:t.cellY},!1)),i("div",{staticClass:"drag-target-rect",class:{"show-me":t.dragging},style:{width:this.dragTargetRect.w+"px",minHeight:this.dragTargetRect.h+"px",left:this.dragTargetRect.x+28+"px",top:this.dragTargetRect.y+"px"}})],2),i("GridLeftColumn",{attrs:{scroll:t.scrollTop},on:{selectrow:t.handleselectrow}}),i("div",{staticClass:"top-left-corner",on:{click:t.handlerpulldown}},[i("IconArrowDown")],1),i("PopUpMenu",{style:{left:this.pulldown.x+"px",top:this.pulldown.y+"px"},on:{handlepopup:t.handlepopup,handlehide:t.hidePullDown}})],1)},r=[],l=i("5530"),h=i("d4ec"),c=function t(){Object(h["a"])(this,t),this.data=[],this.amountRows=10,this.amountColumns=6,this.chars=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.widths=[150,50,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150],this.positions=[0];for(var e=0,i=0;i<this.amountColumns;i++)e+=this.widths[i],this.positions.push(e);for(var s=0;s<this.amountRows;s++){for(var n={id:"row"+s,data:[],width:this.widths[s]+"px"},o=0;o<this.amountColumns;o++)n.data.push({id:this.chars[o]+"_"+s,colId:o,rowId:s,text:"",width:this.widths[o]});this.data.push(n)}return{rows:this.data,widths:this.widths,positions:this.positions}},d=c,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top-row",style:{marginLeft:-t.scroll+"px"}},t._l(t.rowContent,(function(e){return i("fragment",{key:e.id},[i("GridTopCell",{attrs:{item:e},on:{changesize:t.handlecellsize,stopchangesize:t.handlestopcellsize,selectcolumn:t.handleselectcolumn}})],1)})),1)},p=[],f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cell-head-container",style:{width:t.newWidth+"px"},on:{mousedown:t.mousedown}},[i("div",{staticClass:"grab",on:{mousedown:t.mousedown}}),i("div",{staticClass:"cell-text unselectable",on:{mousedown:t.mousedown}},[t._v(t._s(t.item.text))]),i("div",{staticClass:"grab-right",on:{mousedown:t.mousedowngrap}})])},g=[],m={name:"GridTopCell",props:["item"],mousex1:!1,mousex2:!1,data:function(){var t=this.item.width;return{oldWidth:t,newWidth:t}},methods:{mousedown:function(t){this.startDrag||this.$emit("selectcolumn",this.item.colId,this.newWidth)},mousedowngrap:function(t){this.startDrag=!0,this.mousex1=t.clientX,document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup)},mouseup:function(){document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup),this.oldWidth=this.newWidth,this.startDrag=!1,this.stopchangesize()},mousemove:function(t){this.mousex2=t.clientX,this.newWidth=Math.max(this.oldWidth+(this.mousex2-this.mousex1),44),this.handlechangesize()},handlechangesize:function(){this.$emit("changesize",this.item.colId,this.newWidth)},stopchangesize:function(){this.$emit("stopchangesize",this.item.colId,this.newWidth)}}},w=m,v=(i("ee4b"),i("2877")),x=Object(v["a"])(w,f,g,!1,null,"40adc18a",null),y=x.exports,b=i("3f08"),C={name:"GridTopRow",components:{Fragment:b["a"],GridTopCell:y},props:["widths","positions","scroll"],methods:{createCellData:function(t){for(var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=[],s=0;s<t.length;s++)i.push({id:s+"_"+e[s],colId:s,text:e[s],width:t[s]});return i},updateXPositions:function(){for(var t=0,e=0;e<this.widths.length;e++)t+=this.widths[e],this.positions[e+1]=t},handlecellsize:function(t,e){this.widths[t]=e,this.updateXPositions(),this.$emit("changesize")},handlestopcellsize:function(t,e){this.$emit("stopchangesize",t,e)},handleselectcolumn:function(t){this.$emit("selectcolumn",t)}},data:function(){var t=this.createCellData(this.widths);return{rowContent:t}}},S=C,R=(i("b84a"),Object(v["a"])(S,u,p,!1,null,"5015fd32",null)),T=R.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},t._l(t.row.data,(function(e){return i("fragment",{key:e.id},[i("Cell",{attrs:{item:e,width:t.row.width},on:{rightclick:t.handlerightclick,mousedown:t.handlemousedown,mouseenter:t.handlemouseenter,mouseup:t.handlemouseup}})],1)})),1)},I=[],D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cell unselectable",style:{minWidth:t.item.width+"px"},on:{contextmenu:function(t){t.preventDefault()},mousedown:t.mousedown,mouseenter:t.mouseenter}},[t._v(" "+t._s(t.item.text)+" ")])},A=[],N={name:"Cell",props:["item"],methods:{mousedown:function(t){this.clickX=t.pageX,this.clickY=t.pageY,document.addEventListener("mouseup",this.mouseup);var e={row:this.item.rowId,column:this.item.colId,width:this.item.width,text:this.item.text,pageX:t.pageX,pageY:t.pageY};this.$emit("mousedown",e)},mouseenter:function(t){var e={row:this.item.rowId,column:this.item.colId};this.$emit("mouseenter",e)},mouseup:function(t){this.$emit("mouseup"),document.removeEventListener("mouseup",this.mouseup)},handleKey:function(t){console.log("keypressed")}}},z=N,_=(i("91af"),Object(v["a"])(z,D,A,!1,null,"457c625b",null)),L=_.exports,P={name:"GridRow",components:{Fragment:b["a"],Cell:L},props:["row","widths","positions","position"],methods:{handlerightclick:function(t){this.$emit("rightclick",t)},handlemousedown:function(t){this.$emit("mousedown",t)},handlemouseenter:function(t){this.$emit("mouseenter",t)},handlemouseup:function(){this.$emit("mouseup")}}},W=P,E=(i("2e4f"),Object(v["a"])(W,k,I,!1,null,"224fe7bd",null)),j=E.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column-left",style:{top:24-t.scroll+"px"}},t._l(t.columnContent,(function(e){return i("fragment",{key:e.id},[i("GridLeftCell",{attrs:{item:e},on:{selectrow:t.handleselectrow}})],1)})),1)},G=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cell-left unselectable",on:{mousedown:t.mousedown}},[t._v(" "+t._s(t.item.text)+" ")])},X=[],H={name:"GridLeftCell",props:["item"],methods:{mousedown:function(t){this.$emit("selectrow",this.item.rowId)}}},M=H,Y=(i("888c"),Object(v["a"])(M,O,X,!1,null,"be84e366",null)),B=Y.exports,F={name:"GridLeftColumn",components:{Fragment:b["a"],GridLeftCell:B},props:["scroll"],methods:{createCellData:function(t){for(var e=[],i=0;i<t;i++)e.push({id:i+"_LeftRow",rowId:i,text:i+1+""});return e},handleselectrow:function(t){this.$emit("selectrow",t)}},data:function(){var t=this.createCellData(10);return{columnContent:t}}},V=F,U=(i("dafe"),Object(v["a"])(V,$,G,!1,null,"056a94fd",null)),K=U.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Input",{ref:"theCell",staticClass:"cell-active",class:{noEvents:t.dragging},style:{minWidth:t.w+"px",maxWidth:t.w+"px",minHeight:"24px",left:t.x+28+"px",top:t.y+"px"},attrs:{value:t.text},on:{input:t.handleText,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleTab(e)},function(e){return t.handleKeyDown(e)}],keyup:function(e){return t.handleKey(e)}}})},Z=[],Q={name:"CellActive",props:["text","w","x","y"],data:function(){return{dragging:!1,keyNav:{x:-1e3,y:0}}},methods:{setText:function(t){var e=this.$refs.theCell;e.value=t},handleText:function(t){this.$emit("changeText",t.target.value)},handleKeyDown:function(t){switch(t.code){case"ArrowUp":t.preventDefault(),this.keyNav.x=0,this.keyNav.y=-1;break;case"ArrowDown":t.preventDefault(),this.keyNav.x=0,this.keyNav.y=1;break;case"ArrowLeft":t.preventDefault(),this.keyNav.x=-1,this.keyNav.y=0;break;case"ArrowRight":t.preventDefault(),this.keyNav.x=1,this.keyNav.y=0;break;case"Tab":t.preventDefault(),t.shiftKey?(this.keyNav.x=-1,this.keyNav.y=0):(this.keyNav.x=1,this.keyNav.y=0);break;default:this.keyNav.x=-1e3,this.keyNav.y=0}},handleTab:function(t){t.preventDefault()},handleKey:function(t){this.keyNav.x>-1e3&&this.$emit("jumpcell",this.keyNav)},setFocus:function(){this.$refs.theCell.focus()}}},q=Q,tt=(i("a413"),Object(v["a"])(q,J,Z,!1,null,"6d3c5a28",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popup-bg",on:{mouseleave:t.hidePullDown,contextmenu:function(t){t.preventDefault()}}},[i("div",{staticClass:"popup-item item-normal",on:{mouseup:function(e){return t.mouseup("copy")},contextmenu:function(t){t.preventDefault()}}},[t._v("Kopieren")]),i("div",{staticClass:"popup-item item-normal",on:{mouseup:function(e){return t.mouseup("paste")},contextmenu:function(t){t.preventDefault()}}},[t._v("Einfügen")]),i("div",{staticClass:"popup-item item-normal",on:{mouseup:function(e){return t.mouseup("cut")},contextmenu:function(t){t.preventDefault()}}},[t._v("Ausschneiden")]),i("div",{staticClass:"popup-item",on:{mouseup:function(e){return t.mouseup("delete")},contextmenu:function(t){t.preventDefault()}}},[t._v("Löschen")])])},st=[],nt={name:"PopUpMenu",props:["item"],methods:{mouseup:function(t){this.$emit("handlepopup",t)},hidePullDown:function(t){this.$emit("handlehide")}}},ot=nt,at=(i("a822"),Object(v["a"])(ot,it,st,!1,null,"3344168b",null)),rt=at.exports,lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{staticStyle:{"enable-background":"new 0 0 28 24"},attrs:{version:"1.1",id:"arrow_pulldown",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"28px",height:"24px",viewBox:"0 0 28 24","xml:space":"preserve"}},[i("polygon",{attrs:{points:"14,16 17,10 11,10 "}})])},ht=[],ct={name:"IconArrowDown",props:[]},dt=ct,ut=Object(v["a"])(dt,lt,ht,!1,null,"96e60098",null),pt=ut.exports,ft={name:"GridApp",components:{GridRow:j,GridTopRow:T,GridLeftColumn:K,CellActive:et,Fragment:b["a"],PopUpMenu:rt,IconArrowDown:pt},props:{userData:Array},data:function(){var t=new d;return{position:{x:0,y:0},componentWidth:600,componentMinWidth:320,griddata:t,scrollLeft:0,scrollTop:0,selection:{r1:!1,r2:!1,c1:!1,c2:!1,x:!1,y:!1,w:!1,h:!1,totalR:!1,totalC:!1},normalized:{r1:!1,r2:!1,c1:!1,c2:!1,x:!1,y:!1,w:!1,h:!1,totalR:!1,totalC:!1},destination:{r1:!1,r2:!1,c1:!1,c2:!1,x:!1,y:!1,w:!1,h:!1,totalR:!1,totalC:!1},row1:!1,row2:!1,firstRow:!1,rowsSelected:!1,col1:!1,col2:!1,firstCol:!1,colsSelected:!1,selectionX:-1e3,selectionY:0,selectionW:0,selectionH:24,mouseIsDown:!1,cellText:"Hu",cellWidth:0,cellX:-1e3,cellY:0,editable:"none",newText:"new Text",copyRange:{row1:-1,row2:-1,col1:-1,col2:-1},copy:[],dragInfo:{x1:0,y1:0,orgx:0,orgy:0,dx:0,dy:0,orgRow:-1,orgCol:-1,targetRow:-1,targetCol:-1},dragTargetRect:{x:0,y:0,w:0,h:0},dragging:!1,pulldown:{x:-1e3,y:24,visible:!1}}},created:function(){this.mapUserData()},destroyed:function(){},mounted:function(){},methods:{mapUserData:function(){for(var t=0;t<this.userData.length;t++)for(var e=0;e<this.userData[t].length;e++)this.griddata.rows[t].data[e].text=this.userData[t][e]},mapToTemp:function(){for(var t=this.userData[0].length,e=[],i=0;i<this.griddata.rows.length;i++){for(var s=[],n=0;n<t;n++)s.push(this.griddata.rows[i].data[n].text);e.push(s)}return e},convertpageXY:function(t,e){return{x:t-this.position.x-28,y:e-this.position.y}},setData:function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++)this.griddata.rows[e].data[i].text=t[e][i];t[0][0]="Test"},handlecellsize:function(t,e){this.updateCellsWidth(),this.activeCellToPosition(),this.reduceSelection()},stopchangesize:function(){this.activeCellToPosition()},activeCellToPosition:function(){!1!==this.selection.r1&&(this.cellX=this.griddata.positions[this.selection.c1],this.cellY=24*this.selection.r1,this.cellText=this.griddata.rows[this.selection.r1].data[this.selection.c1].text,this.cellWidth=this.griddata.widths[this.selection.c1],this.updateText())},activeCellToNewWidth:function(){this.cellWidth=this.griddata.widths[this.selection.c1]},noSelection:function(){this.cellX=-1e3,this.setSelectionRect("hide")},handlemousedown:function(t){this.selection.r1=t.row,this.selection.r2=t.row,this.selection.c1=t.column,this.selection.c2=t.column,this.selection.x=this.griddata.positions[t.column],this.selection.y=24*t.row,this.selection.w=this.griddata.widths[t.column],this.selection.h=24,this.selection.totalR=1,this.selection.totalC=1,this.cellX=this.griddata.positions[t.column],this.cellY=24*t.row,this.cellText=t.text,this.cellWidth=t.width,this.updateText(t.text+""),this.mouseIsDown=!0,this.setSelectionRect()},handlemouseup:function(){this.mouseIsDown=!1,this.$refs.activeCell.$el.focus(),this.editable="auto",this.normalizeSelection()},getColumnUnderMouse:function(t){for(var e=0,i=0;i<this.griddata.positions.length;i++)if(this.griddata.positions[i]>t){e=i-2;break}return e},handlemousedowndrag:function(t){var e=this.convertpageXY(t.pageX,t.pageY),i=parseInt(t.target.getAttribute("shiftX"),10),s=parseInt(t.target.getAttribute("shiftY"),10);this.normalizeSelection(),this.dragging=!0,this.$refs.activeCell.dragging=!0,this.dragInfo.x1=e.x+i,this.dragInfo.orgx=t.pageX,this.dragInfo.y1=e.y+s,this.dragInfo.orgy=t.pageY,this.dragInfo.orgRow=this.getRowAtY(this.dragInfo.y1),this.dragInfo.orgCol=this.getColumnAtX(this.dragInfo.x1),this.setTargetRect(!0),document.addEventListener("mousemove",this.mousemovedrag),document.addEventListener("mouseup",this.mouseupdrag)},getRowAtY:function(t){return parseInt(t/24,10)},getColumnAtX:function(t){for(var e=0,i=0;i<this.griddata.positions.length;i++){if(t<this.griddata.positions[i])break;e=i}return e},finishDragging:function(){this.selection.r1=this.dragInfo.targetRow,this.selection.r2=this.dragInfo.targetRow+this.selection.totalR-1,this.selection.c1=this.dragInfo.targetCol,this.selection.c2=this.dragInfo.targetCol+this.selection.totalC-1,this.setSelectionRect(),this.activeCellToPosition(),this.paste(),this.updateText(),this.$refs.activeCell.$el.focus()},mouseupdrag:function(t){this.copyToInternalClipboard(),this.delete(),this.dragging=!1,this.$refs.activeCell.dragging=!1,document.removeEventListener("mousemove",this.mousemovedrag),document.removeEventListener("mouseup",this.mouseupdrag),this.finishDragging()},setTargetRect:function(t){if(t)this.dragTargetRect.x=this.normalized.x,this.dragTargetRect.y=this.normalized.y,this.dragTargetRect.w=this.normalized.w,this.dragTargetRect.h=this.normalized.h;else{var e=this.getColumnAtX(this.dragInfo.x1+this.dragInfo.dx),i=this.getRowAtY(this.dragInfo.y1+this.dragInfo.dy),s=e-this.dragInfo.orgCol,n=i-this.dragInfo.orgRow;this.dragInfo.targetCol=this.selection.c1+s,this.dragInfo.targetRow=this.selection.r1+n,this.dragTargetRect.x=this.griddata.positions[this.dragInfo.targetCol],this.dragTargetRect.y=24*this.dragInfo.targetRow,this.dragTargetRect.w=this.getWidthFromTo(this.dragInfo.targetCol,this.dragInfo.targetCol+(this.selection.totalC-1)),this.dragTargetRect.h=24*this.selection.totalR}},getWidthFromTo:function(t,e){for(var i=0,s=t;s<=e;s++)i+=this.griddata.widths[s];return i},mousemovedrag:function(t){this.dragInfo.dx=t.pageX-this.dragInfo.orgx,this.dragInfo.dy=t.pageY-this.dragInfo.orgy,this.setTargetRect()},handlemouseenter:function(t){this.mouseIsDown?(this.selection.r2=t.row,this.selection.c2=t.column,this.selection.totalR=Math.abs(this.selection.r2-this.selection.r1)+1,this.selection.totalC=Math.abs(this.selection.c2-this.selection.c1)+1,this.setSelectionRect()):this.dragging&&(this.dragInfo.targetRow=t.row,this.dragInfo.targetCol=t.column)},handlerightclick:function(t){event.preventDefault(),console.log(t,this.position.x);t.x,this.position.x,t.y,this.position.y;this.showPullDown(t.x-this.position.x-5,30)},setSelectionRect:function(t){if(t&&"hide"===t)return this.selection.x=-1e3,void(this.selection.w=-1);var e=this.griddata.positions[this.selection.c1],i=this.griddata.positions[this.selection.c2],s=24*this.selection.r1,n=24*this.selection.r2;e<i?(this.selection.x=e,this.selection.w=this.griddata.positions[this.selection.c2+1]-e):(this.selection.x=i,this.selection.w=e-i+this.griddata.widths[this.selection.c1]),s<n?(this.selection.y=s,this.selection.h=n-s+24):(this.selection.y=n,this.selection.h=s-n+24)},normalizeSelection:function(){if(this.normalized=Object(l["a"])({},this.selection),this.normalized.r1>this.normalized.r2){var t=this.normalized.r1;this.normalized.r1=this.normalized.r2,this.normalized.r2=t}if(this.normalized.c1>this.normalized.c2){var e=this.normalized.c1;this.normalized.c1=this.normalized.c2,this.normalized.c2=e}},reduceSelection:function(){this.selection.c2=this.selection.c1,this.selection.r2=this.selection.r1,this.setSelectionRect()},handleselectcolumn:function(t){t>this.griddata.rows[0].data.length-1||(this.selection.c1=t,this.selection.c2=t,this.selection.r1=0,this.selection.r2=this.griddata.rows.length-1,this.selection.totalC=1,this.selection.totalR=this.griddata.rows.length,this.setSelectionRect(),this.activeCellToPosition(),this.$refs.activeCell.$el.focus())},handleselectrow:function(t){this.selection.c1=0,this.selection.c2=this.griddata.rows[0].data.length-1,this.selection.r1=t,this.selection.r2=t,this.selection.totalC=this.griddata.rows[0].data.length,this.selection.totalR=1,console.log("in handleselectrow",this.selection),this.setSelectionRect(),this.activeCellToPosition()},handleenterself:function(){},updateCellsWidth:function(){for(var t=0;t<this.griddata.rows.length;t++)for(var e=0;e<this.griddata.rows[t].data.length;e++)this.griddata.rows[t].data[e].width=this.griddata.widths[e]},getXPosition:function(t){for(var e=0,i=0;i<t;i++)e+=this.griddata.widths[i];return e},handleScroll:function(t){this.scrollLeft=t.target.scrollLeft,this.scrollTop=t.target.scrollTop,this.handleGridPosition()},updateText:function(t){this.newText=this.griddata.rows[this.selection.r1].data[this.selection.c1].text,this.$refs.activeCell.setText(this.newText),this.$refs.activeCell.$el.focus()},handleTextChange:function(t){this.griddata.rows[this.selection.r1].data[this.selection.c1].text=t,this.handleChange()},handleChange:function(){this.$emit("dataChange",this.mapToTemp())},getNewText:function(){return this.cellText},jumpcell:function(t){var e=this.griddata.rows.length,i=this.griddata.rows[0].data.length,s=Math.min(e-1,Math.max(0,this.selection.r1+t.y)),n=Math.min(i-1,Math.max(0,this.selection.c1+t.x)),o=this.griddata.rows[s].data[n].text,a=this.griddata.widths[s],r={column:n,row:s,text:o,width:a};this.handlemousedown(r),this.activeCellToPosition(),this.mouseIsDown=!1},copyToInternalClipboard:function(){this.normalizeSelection(),this.copy=[];for(var t=this.normalized.r1;t<=this.normalized.r2;t++){for(var e=[],i=this.normalized.c1;i<=this.normalized.c2;i++)e.push(this.griddata.rows[t].data[i].text);this.copy.push(e)}},delete:function(){this.normalizeSelection();for(var t=this.normalized.r1;t<=this.normalized.r2;t++)for(var e=this.normalized.c1;e<=this.normalized.c2;e++)this.griddata.rows[t].data[e].text="";this.noSelection(),this.handleChange()},handlerpulldown:function(t){this.showPullDown(0,24)},showPullDown:function(t,e){this.pulldown.visible?this.pulldown.x=-1e3:(this.pulldown.x=t,this.pulldown.y=e,this.pulldown.visible=!1),this.pulldown.visible=!this.pulldown.visible},hidePullDown:function(){this.pulldown.visible=!0,this.showPullDown(0,24)},paste:function(){if(this.copy.length>0){var t,e,i,s,n=this.selection.r1,o=Math.min(this.selection.r1+this.copy.length,this.griddata.rows.length),a=this.selection.c1,r=Math.min(this.selection.c1+this.copy[0].length,this.griddata.rows[0].data.length);for(t=n,i=0;t<o;t++,i++)for(e=a,s=0;e<r;e++,s++)this.griddata.rows[t].data[e].text=this.copy[i][s]}this.updateText(),this.handleChange()},handlepopup:function(t){!1!==this.selection.r1?("copy"===t&&this.copyToInternalClipboard(),"paste"===t&&this.paste(),"cut"===t&&(this.copyToInternalClipboard(),this.delete()),"delete"===t&&this.delete(),this.showPullDown(0,24)):this.showPullDown(0,24)},handleSize:function(t){this.componentWidth=800,this.componentMinWidth=t<=600?t:260,this.handleGridPosition()},handleGridPosition:function(){var t=this.$refs.theGrid.getBoundingClientRect();this.position.x=t.left-this.scrollLeft,this.position.y=t.top-this.scrollTop}}},gt=ft,mt=(i("7516"),Object(v["a"])(gt,a,r,!1,null,"25f62582",null)),wt=mt.exports,vt=i("bee2"),xt=(i("a15b"),i("5a89"),function(){function t(e){Object(h["a"])(this,t),this.info=e,this.data=[["Schlipse",25,"#00BB00",.25],["Bananen",80,"#00AA00",.8],["Fußpilz",2,"#009900",.02],["Freibier",93,"#18a2d0",.93],["Sturm der Liebe",44,"#007700",.44],["","","#006600",0],["","","#005500",0]],this.slices=[0,2.8,5.5,8.2,11.5,14.3,17.5,20.3,23.6,26.8,30.1,33.4,36.7,40,43.3,46.6,49.8,53.7,57,60.8,64.6,68.5,72.3,76.1,79.9,83.8,87.6,92,95.9,100.2,104.6,109,113.4,117.8,122.7,127.1,132,136.9,141.8,146.8,151.7,157.2,162.1,167.6,173,178.5,184.5,190,196.1,202.1,208.1,214.1,220.7,227.3,233.8,240.4,247,254.1,261.2,268.9,276,283.7,291.3,299.5,307.7,316,324.2,333,342.3,351,360.3,370.2,379.5,389.9,400.3,410.7,421.1,432.6,443.6,455.6,467.6,479.7,492.3,505.4,518.6,532.3,546.5,561.3,576,591.9,607.8,624.2,641.2,658.7,676.8,695.4,715.1,734.9,755.7,777.6,800],this.vTriangle=document.getElementById("Tri1"),this.vTriangle2=document.getElementById("Tri2"),this.vTriangle3=document.getElementById("Tri3"),this.vTriangle4=document.getElementById("Tri4"),this.persp=document.getElementById("persp"),this.perspD=document.getElementById("perspD"),this.persp2=document.getElementById("persp2"),this.fontSize=11,this.positions=[],this.colors=[],this.createInitialPositions=this.createInitialPositions.bind(this),this.createRightPositions=this.createRightPositions.bind(this),this.drawRight=this.drawRight.bind(this),this.buildString=this.buildString.bind(this),this.buildPolygon=this.buildPolygon.bind(this),this.front=this.front.bind(this),this.top=this.top.bind(this),this.depth=this.depth.bind(this),this.scale=this.scale.bind(this),this.scaleRightToPoint=this.scaleRightToPoint.bind(this),this.createBar=this.createBar.bind(this),this.render=this.render.bind(this),this.mainStr=this.mainStr.bind(this),this.draw=this.draw.bind(this),this.setWidth=this.setWidth.bind(this),this.transformChart=this.transformChart.bind(this),this.G={x0:0,x1:540,x2:800,y0:0,y1:150,y2:150,y3:300,w0:540,w1:340,w0org:400,w1org:400,h0:0,h1:1,h2:0},this.svgElements=[],this.polygonsFront=[],this.polygonsDepth=[],this.polygonsTop=[],this.polygonsFrontStr=[],this.polygonsDepthStr=[],this.polygonsTopStr=[],this.transform={x:0,y:0,scaleX:1,scaleY:1},this.positionsL=[],this.positionsLx=[],this.createInitialPositions(),this.positionsR=[],this.positionsRx=[],this.createRightPositions(),this.correctRightSide=0,this.setData(this.data)}return Object(vt["a"])(t,[{key:"setData",value:function(t){var e=[];this.colors=[];for(var i=[],s=0;s<t.length;s++){var n=t[s][0],o=t[s][1],a=t[s][2];""===n&""===o||(""===n&&(n="???"),(isNaN(o)||""===o)&&(o=0),o<0&&(o=0),o>100&&(o=100),""===a&&(a="#777777"),e.push([n,t[s][1]+"",a,parseFloat(o)/100]),i.push(a))}this.data=e,this.colors=i.reverse(),this.update()}},{key:"transformChart",value:function(){var t=this.transform,e=["translate(",t.x," ",t.y,") ","scale(",t.scaleX," ",t.scaleY,")"].join("");this.info.world.setAttributeNS(null,"transform",e)}},{key:"draw",value:function(){this.deleteSVGElements(),this.polygonsFrontStr=[],this.polygonsDepthStr=[],this.polygonsTopStr=[],this.scale(),this.scaleRightToPoint(this.positionsLx[12].x);for(var t=this.data.length-1;t>=0;t--)""!==this.data[t][0]&&this.createBar(this.data[t],6*t+4,4);this.render(),this.renderText()}},{key:"createBar",value:function(t,e,i){var s=this.front(e,i,t[3]),n=this.buildPolygon(s),o=this.depth(e,i,t[3]),a=this.buildPolygon(o),r=this.depth(e+4,i,t[3]),l=this.top(s,o,r),h=this.buildPolygon(l);this.polygonsFrontStr.push(n),this.polygonsDepthStr.push(a),this.polygonsTopStr.push(h)}},{key:"render",value:function(){var t,e="http://www.w3.org/2000/svg";for(t=0;t<this.polygonsTopStr.length;t++){var i=document.createElementNS(e,"polygon");i.setAttributeNS(null,"id","to_"+t),i.setAttributeNS(null,"fill","#000000"),i.setAttributeNS(null,"points",this.polygonsTopStr[t]),i.setAttributeNS(null,"stroke",this.colors[t]),i.setAttributeNS(null,"stroke-width",.66),i.setAttributeNS(null,"stroke-miterlimit",4),this.info.world.appendChild(i),this.svgElements.push(i);var s=document.createElementNS(e,"polygon");s.setAttributeNS(null,"id","de_"+t),s.setAttributeNS(null,"fill","#000000"),s.setAttributeNS(null,"points",this.polygonsDepthStr[t]),s.setAttributeNS(null,"stroke",this.colors[t]),s.setAttributeNS(null,"stroke-width",.66),s.setAttributeNS(null,"stroke-miterlimit",4),this.info.world.appendChild(s),this.svgElements.push(s);var n=document.createElementNS(e,"polygon");n.setAttributeNS(null,"id","fr_"+t),n.setAttributeNS(null,"fill",this.colors[t]),n.setAttributeNS(null,"points",this.polygonsFrontStr[t]),n.setAttributeNS(null,"stroke",this.colors[t]),n.setAttributeNS(null,"stroke-width",.66),n.setAttributeNS(null,"stroke-miterlimit",4),this.info.world.appendChild(n),this.svgElements.push(n)}}},{key:"createInitialPositions",value:function(){this.positions=[];for(var t=this.G,e=[],i=(this.G.w0,this.G.w0org,this.slices.length-1);i>0;i--){var s=this.slices[i]/2,n=s/t.w0,o=t.y2*n,a=t.y2-o,r=(t.y3-t.y2)*n,l=t.y3-t.y2-r,h=["M",s," ",a," ","L",s," ",t.y3-l," "].join("");e.push(h),this.positions.push({x:s,y1:a,y2:t.y3-l}),this.positionsL.push({x:s,y1:a,y2:t.y3-l}),this.positionsLx.push({x:s,y1:a,y2:t.y3-l})}}},{key:"scale",value:function(){for(var t=this.G.w0/this.G.w0org,e=0;e<this.positions.length;e++)this.positionsLx[e].x=this.positions[e].x*t;t=this.G.w1/this.G.w0org;for(var i=0;i<this.positionsR.length;i++)this.positionsRx[i].x=this.positionsR[i].x*t;this.correctRightSide=800-this.positionsRx[0].x}},{key:"scaleRightToPoint",value:function(t){for(var e=(this.G.x2-t)/this.G.w0org,i=0;i<this.positionsR.length;i++)this.positionsRx[i].x=this.positionsR[i].x*e;this.correctRightSide=800-this.positionsRx[0].x}},{key:"createRightPositions",value:function(){for(var t=this.positions,e=t.length-1;e>=0;e--){var i=800-t[e].x;this.positionsR.push({x:i,y1:t[e].y1,y2:t[e].y2}),this.positionsRx.push({x:i,y1:t[e].y1,y2:t[e].y2})}}},{key:"drawLeft",value:function(){for(var t=[],e=this.positionsLx.length-1;e>0;e--){var i=this.positionsLx[e],s=["M",i.x," ",i.y1," ","L",i.x," ",i.y2," "].join("");t.push(s)}this.persp.setAttributeNS(null,"d",t.join(""))}},{key:"drawRight",value:function(){for(var t=[],e=0;e<this.positionsRx.length;e++){var i=this.positionsRx[e],s=i.x+this.correctRightSide,n=["M",s," ",i.y1," ","L",s," ",i.y2," "].join("");t.push(n)}this.persp2.setAttributeNS(null,"d",t.join(""))}},{key:"buildPolygon",value:function(t){var e=[t.x1,",",t.y1," ",t.x2,",",t.y2," ",t.x3,",",t.y3," ",t.x4,",",t.y4," "].join("");return e}},{key:"buildString",value:function(t){var e=["M",t.x1," ",t.y1," ","L",t.x2," ",t.y2," ","L",t.x3," ",t.y3," ","L",t.x4," ",t.y4," "].join("");return e}},{key:"front",value:function(t,e,i){var s={x1:this.positionsLx[t].x,y1:this.positionsLx[t].y1,x2:this.positionsLx[t].x,y2:this.positionsLx[t].y2,x3:this.positionsLx[t+e].x,y3:this.positionsLx[t+e].y2,x4:this.positionsLx[t+e].x,y4:this.positionsLx[t+e].y1},n=(s.y2-s.y1)*i;s.y1=s.y2-n;var o=(s.y3-s.y4)*i;return s.y4=s.y3-o,s}},{key:"top",value:function(t,e,i){var s={x1:t.x3,y1:t.y4,x2:t.x2,y2:t.y1,x3:e.x3,y3:e.y4,x4:i.x4,y4:i.y4};return s}},{key:"depth",value:function(t,e,i){var s=this.positionsRx.length-t-e,n=this.positionsRx[s],o=this.positionsRx.length-t,a=this.positionsRx[o],r=n.x+this.correctRightSide,l=a.x+this.correctRightSide,h=this.positionsLx[t].x,c=l-h,d={x1:this.positionsLx[t].x,y1:this.positionsLx[t].y1,x2:this.positionsLx[t].x,y2:this.positionsLx[t].y2,x3:r-c,y3:n.y2,x4:r-c,y4:n.y1},u=(d.y2-d.y1)*i;d.y1=d.y2-u;var p=(d.y3-d.y4)*i;return d.y4=d.y3-p,d}},{key:"mainStr",value:function(t){var e=this.G;switch(t){case"p0":return[e.x0,",",e.y2," "].join("");case"p1":return[e.x1,",",e.y0," "].join("");case"p2":return[e.x2,",",e.y1," "].join("");case"p3":return[e.x1,",",e.y3," "].join("");case"p4":return[e.x1,",",e.y1," "].join("");case"p5":return[e.x1,",",e.y2," "].join("")}}},{key:"setCenter",value:function(t){this.G.x1=t,this.G.w0=t-this.G.x0,this.G.w1=this.G.x2-this.G.x1,this.update()}},{key:"setHorizontal",value:function(t){this.transform.x=t,this.transformChart()}},{key:"setVertical",value:function(t){this.transform.y=t,this.transformChart()}},{key:"setScale",value:function(t){}},{key:"setWidth",value:function(t){this.update(t)}},{key:"deleteSVGElements",value:function(){for(var t=this.svgElements.length-1;t>=0;t--)this.svgElements[t].remove()}},{key:"update",value:function(){this.draw()}},{key:"renderText",value:function(){for(var t="http://www.w3.org/2000/svg",e=580,i=28,s=96+(this.polygonsFrontStr.length-1)*i,n=0;n<this.polygonsFrontStr.length;n++){var o=document.createElementNS(t,"text");o.setAttributeNS(null,"id","id_"+this.data[n][0]),o.setAttributeNS(null,"fill","#999999"),o.setAttributeNS(null,"x",e+"px"),o.setAttributeNS(null,"y",s-n*i+"px"),o.setAttributeNS(null,"font-size",this.fontSize+"px"),o.setAttributeNS(null,"font-family","Roboto, Helvetica, sans-serif"),o.textContent=this.data[n][1],this.info.agenda.appendChild(o),this.svgElements.push(o);var a=document.createElementNS(t,"text");a.setAttributeNS(null,"id","id_"+this.data[n][0]),a.setAttributeNS(null,"fill",this.data[n][2]),a.setAttributeNS(null,"x",e+30+"px"),a.setAttributeNS(null,"y",s-n*i+"px"),a.setAttributeNS(null,"font-size",this.fontSize+"px"),a.setAttributeNS(null,"font-family","Roboto, Helvetica, sans-serif"),a.textContent=this.data[n][0],this.info.agenda.appendChild(a),this.svgElements.push(a)}}},{key:"setHeadline",value:function(t){var e=["translate(",0," ",parseInt(t),")"].join("");this.info.headline.setAttributeNS(null,"transform",e)}},{key:"drawTriangles",value:function(){var t=[this.mainStr("p0"),this.mainStr("p1"),this.mainStr("p5")].join("");this.vTriangle.setAttributeNS(null,"points",t);var e=[this.mainStr("p0"),this.mainStr("p5"),this.mainStr("p3")].join("");this.vTriangle2.setAttributeNS(null,"points",e);var i=[this.mainStr("p1"),this.mainStr("p2"),this.mainStr("p4")].join("");this.vTriangle3.setAttributeNS(null,"points",i);var s=[this.mainStr("p2"),this.mainStr("p3"),this.mainStr("p4")].join("");this.vTriangle4.setAttributeNS(null,"points",s)}}]),t}()),yt=xt,bt=function(){function t(e,i,s){Object(h["a"])(this,t),this.world=document.getElementById(e),this.agenda=document.getElementById(i),this.headline=document.getElementById(s),this.bars=new yt({world:this.world,agenda:this.agenda,headline:this.headline})}return Object(vt["a"])(t,[{key:"setData",value:function(t){this.bars.setData(t)}},{key:"setWorldCenter",value:function(t){this.bars.setCenter(t)}},{key:"setHorizontal",value:function(t){this.bars.setHorizontal(t)}},{key:"setVertical",value:function(t){this.bars.setVertical(t)}},{key:"setHeadline",value:function(t){this.bars.setHeadline(t)}},{key:"setScale",value:function(t){this.bars.setScale(t)}},{key:"setBarWidth",value:function(t){this.barWidth=t,this.bars.setWidth(t)}}]),t}(),Ct=bt,St={name:"App",components:{GridApp:wt},props:{},data:function(){return{barsData:[["Schlipse",25,"#00BB00"],["Bananen",80,"#00AA00"],["Fußpilz",2,"#009900"],["Freibier",93,"#18a2d0"],["Sturm der Liebe",44,"#007700"],["","","#006600"],["","","#005500"]],appWidth:800,appWrap:"nowrap",sliderCenter:542,sliderH:0,sliderV:0,sliderS:0,sliderHeadline:0,world3d:new Ct("barChartContent","chartAgenda","chartHeadline")}},methods:{handlechangedata:function(t){this.barsData=t,this.world3d.setData(this.barsData)},handleWindowResize:function(t){this.appWidth=Math.min(1120,.9*window.innerWidth),this.appWrap="nowrap",this.appWidth<=600&&(this.appWrap="wrap"),this.$refs.gridapp.handleSize(this.appWidth)}},watch:{sliderCenter:function(t){this.world3d.setWorldCenter(t)},sliderH:function(t){this.world3d.setHorizontal(t)},sliderV:function(t){this.world3d.setVertical(t)},sliderHeadline:function(t){this.world3d.setHeadline(t)},handleData:function(t){}},mounted:function(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}},Rt=St,Tt=(i("034f"),Object(v["a"])(Rt,n,o,!1,null,null,null)),kt=Tt.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(kt)}}).$mount("#app")},"5bf7":function(t,e,i){},"66c2":function(t,e,i){},"66de":function(t,e,i){},"6c9f":function(t,e,i){},7516:function(t,e,i){"use strict";var s=i("66de"),n=i.n(s);n.a},"85ec":function(t,e,i){},"888c":function(t,e,i){"use strict";var s=i("5bf7"),n=i.n(s);n.a},"91af":function(t,e,i){"use strict";var s=i("ac3c"),n=i.n(s);n.a},a413:function(t,e,i){"use strict";var s=i("baae"),n=i.n(s);n.a},a822:function(t,e,i){"use strict";var s=i("66c2"),n=i.n(s);n.a},ac3c:function(t,e,i){},b84a:function(t,e,i){"use strict";var s=i("06ff"),n=i.n(s);n.a},baae:function(t,e,i){},dafe:function(t,e,i){"use strict";var s=i("3f67"),n=i.n(s);n.a},ee4b:function(t,e,i){"use strict";var s=i("055f"),n=i.n(s);n.a}});
//# sourceMappingURL=app.7947e2b8.js.map